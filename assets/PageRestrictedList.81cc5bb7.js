import{t as M}from"./TagsInput.0ed2c902.js";import{_ as w,a as D,r as f,o as d,c,F as r,x as h,b as e,d as g,E as y,f as m,w as v,v as S,i as C,t as i,g as u}from"./index.c0512dbc.js";const _=D(),T={data(){return{tag:"",tags:[],tagsAutocomplete:[],newMarketplace:"",marketplaces:[],restrictlists:[],selectedMarketplace:"",selectedType:"brand",idListToDelete:[]}},components:{tagsInput:M},created(){this.onStartGettingRestrictedList()},mounted(){},methods:{onStartGettingRestrictedList:function(){_.GetRSRData("getRestrictedList").then(l=>{l.status&&(this.marketplaces=l.getMarketPlaces,this.marketplaces=l.getMarketPlaces,this.marketplaces.length>0&&(this.selectedMarketplace=this.marketplaces[0].id),this.restrictlists=l.getRestrictlists)}).catch(l=>{console.log(l),this.readError=l.message})},onCreateMarketplace:function(){this.newMarketplace==""?alert("Please input the marketplace name."):_.addMarketplace(this.newMarketplace).then(l=>{l.status&&location.reload()}).catch(l=>{console.log(l),this.readError=l.message,alert(l.message)})},onCreateBlockedList:function(){if(this.marketplaces.length==0)alert("Firstly insert new marketplace, please");else{let l=[];this.tags.forEach(s=>{l.push({name:s.text,marketplace_id:this.selectedMarketplace,type:this.selectedType})}),l.length>0&&_.addBlockedList(l).then(s=>{s.status&&location.reload()}).catch(s=>{console.log(s),this.readError=s.message,alert(s.message)})}},checkList:function(l,s){if(this.idListToDelete.includes(s)){const p=this.idListToDelete.indexOf(s);p>-1&&this.idListToDelete.splice(p,1)}else this.idListToDelete.push(s)},onDeleteRestrictedList:function(){this.idListToDelete.length==0?alert("Please select any brands or SKUs to remove them from List"):_.deleteRestrictedlist(this.idListToDelete).then(l=>{l.status&&location.reload()}).catch(l=>{console.log(l),this.readError=l.message,alert(l.message)})}}},B=C('<div class="d-flex align-items-center mb-md-3 mb-2"><div class="flex-fill"><ul class="breadcrumb"><li class="breadcrumb-item"><a href="#">PAGES</a></li><li class="breadcrumb-item active">Restricted List</li></ul><h1 class="page-header mb-0"> Restricted List </h1></div></div><div class="d-flex mb-2"><div class="me-2"><a href="#modalAddTask" data-bs-toggle="modal" class="btn btn-outline-theme"><i class="fa fa-plus-circle me-1"></i> Add Blocked Brands or SKUs</a></div><div class="me-2"><a href="#modalAddMarketplace" data-bs-toggle="modal" class="btn btn-outline-theme"><i class="fa fa-plus-circle me-1"></i> Add Marketpace</a></div><div class="ms-auto"><a href="#modalDelete" data-bs-toggle="modal" class="btn btn-outline-danger"><i class="fa fa-fw fa-trash"></i> Delete</a></div></div>',2),A={class:"row"},R={class:"col-xl-6 col-lg-6"},U={class:"flex-grow-1 fw-400"},V={class:"list-group list-group-flush"},E={class:"list-group-item d-flex px-3"},K={class:"flex-fill"},P={class:"form-group mb-0 small"},G=["id"],N={class:"row"},F={class:"col-xl-4 col-lg-4 col-sm-12"},I={class:"form-check"},z=["id","onChange"],O=["for"],Y={class:"col-xl-6 col-lg-6"},j={class:"flex-grow-1 fw-400"},q={class:"list-group list-group-flush"},H={class:"list-group-item d-flex px-3"},J={class:"flex-fill"},Q={class:"form-group mb-0 small"},W=["id"],X={class:"row"},Z={class:"col-xl-4 col-lg-4 col-sm-12"},$={class:"form-check"},ee=["id","onChange"],se=["for"],te={class:"modal fade",id:"modalAddTask"},le={class:"modal-dialog"},ae={class:"modal-content"},oe=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Add Brands or SKUs"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),de={class:"modal-body"},ce={class:"mb-3"},ie=e("label",{class:"form-label"},"Marketplace",-1),ne=["value"],re={class:"mb-3"},me=e("label",{class:"form-label"},"Type",-1),he=e("option",{value:"brand"},"Brand",-1),ue=e("option",{value:"sku"},"SKU",-1),_e=[he,ue],pe={class:"mb-3"},be=e("label",{class:"form-label"},"Input the brand name or SKUs",-1),fe={class:"modal-footer"},ge=e("a",{href:"#",class:"btn btn-outline-default","data-bs-dismiss":"modal"},"Cancel",-1),ve={class:"modal fade",id:"modalAddMarketplace"},ke={class:"modal-dialog"},xe={class:"modal-content"},ye=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Add Marketplace"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Ce={class:"modal-body"},Le={class:"mb-3"},Me=e("label",{class:"form-label"},"Name",-1),we={class:"modal-footer"},De=e("a",{href:"#",class:"btn btn-outline-default","data-bs-dismiss":"modal"},"Cancel",-1),Se={class:"modal fade",id:"modalDelete"},Te={class:"modal-dialog"},Be={class:"modal-content"},Ae=C('<div class="modal-header"><h5 class="modal-title">Confirm</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="mb-3"><label class="form-label">Do you want to remove the selected brands and SKUs in list?</label></div></div>',2),Re={class:"modal-footer"},Ue=e("a",{href:"#",class:"btn btn-outline-default","data-bs-dismiss":"modal"},"Cancel",-1);function Ve(l,s,p,Ee,a,n){const k=f("card-header"),x=f("card"),L=f("tags-input");return d(),c(r,null,[B,(d(!0),c(r,null,h(a.restrictlists,t=>(d(),c("div",A,[e("h4",null,i(t.marketplace_name),1),e("div",R,[m(x,{class:"mb-3"},{default:u(()=>[m(k,{class:"d-flex align-items-center bg-inverse bg-opacity-10"},{default:u(()=>[e("span",U,"Brands ("+i(t.brand.length)+")",1)]),_:2},1024),e("div",V,[e("div",E,[e("div",K,[e("div",P,[e("div",{class:"collapse show",id:"#todoBoard_brand"+t.marketplace_name},[e("div",N,[(d(!0),c(r,null,h(t.brand,o=>(d(),c("div",F,[e("div",I,[e("input",{type:"checkbox",class:"form-check-input",id:"customCheck_brand"+t.marketplace_name+o.id,onChange:b=>n.checkList(b,o.id)},null,40,z),e("label",{class:"form-check-label",for:"customCheck_brand"+t.marketplace_name+o.id},i(o.name),9,O)])]))),256))])],8,G)])])])])]),_:2},1024)]),e("div",Y,[m(x,{class:"mb-3"},{default:u(()=>[m(k,{class:"d-flex align-items-center bg-inverse bg-opacity-10"},{default:u(()=>[e("span",j,"SKUs ("+i(t.sku.length)+")",1)]),_:2},1024),e("div",q,[e("div",H,[e("div",J,[e("div",Q,[e("div",{class:"collapse show",id:"#todoBoard_sku"+t.marketplace_name},[e("div",X,[(d(!0),c(r,null,h(t.sku,o=>(d(),c("div",Z,[e("div",$,[e("input",{type:"checkbox",class:"form-check-input",id:"customCheck_sku"+t.marketplace_name+o.id,onChange:b=>n.checkList(b,o.id)},null,40,ee),e("label",{class:"form-check-label",for:"customCheck_sku"+t.marketplace_name+o.id},i(o.name),9,se)])]))),256))])],8,W)])])])])]),_:2},1024)])]))),256)),e("div",te,[e("div",le,[e("div",ae,[oe,e("div",de,[e("div",ce,[ie,g(e("select",{class:"form-select","onUpdate:modelValue":s[0]||(s[0]=t=>a.selectedMarketplace=t)},[(d(!0),c(r,null,h(a.marketplaces,t=>(d(),c("option",{value:t.id},i(t.name),9,ne))),256))],512),[[y,a.selectedMarketplace]])]),e("div",re,[me,g(e("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=t=>a.selectedType=t)},_e,512),[[y,a.selectedType]])]),e("div",pe,[be,m(L,{modelValue:a.tag,"onUpdate:modelValue":s[2]||(s[2]=t=>a.tag=t),tags:a.tags,"autocomplete-items":a.tagsAutocomplete,onTagsChanged:s[3]||(s[3]=t=>a.tags=t)},null,8,["modelValue","tags","autocomplete-items"])])]),e("div",fe,[e("button",{type:"button",class:"btn btn-outline-theme",onClick:s[4]||(s[4]=v(t=>n.onCreateBlockedList(),["prevent"]))},"Create"),ge])])])]),e("div",ve,[e("div",ke,[e("div",xe,[ye,e("div",Ce,[e("div",Le,[Me,g(e("input",{type:"text",class:"form-control",placeholder:"e.g Amazon","onUpdate:modelValue":s[5]||(s[5]=t=>a.newMarketplace=t)},null,512),[[S,a.newMarketplace]])])]),e("div",we,[e("button",{type:"button",class:"btn btn-outline-theme",onClick:s[6]||(s[6]=v(t=>n.onCreateMarketplace(),["prevent"]))},"Create"),De])])])]),e("div",Se,[e("div",Te,[e("div",Be,[Ae,e("div",Re,[e("button",{type:"button",class:"btn btn-outline-theme",onClick:s[7]||(s[7]=v(t=>n.onDeleteRestrictedList(),["prevent"]))},"Yes"),Ue])])])])],64)}const Ge=w(T,[["render",Ve]]);export{Ge as default};
