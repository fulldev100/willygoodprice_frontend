import{_ as N,a as S,B as M,D as I,A as k,n as D,r as p,o as l,c as r,b as e,e as P,w as d,p as C,g as u,h as c,G as h,t as b,d as f,v as _,f as v}from"./index.c9c94c12.js";import{u as L,h as x,v as z}from"./app-variable.3f08ab6c.js";import{n as X}from"./NavScrollTo.ea3bcc36.js";import{l as B}from"./index.95329077.js";L();const m=S(),E={data(){return{table:M({isLoading:!1,isReSearch:!1,rowClasses:n=>n.id==1?["aaa","is-id-one"]:["bbb","other"],columns:[{label:"item Type",field:"item Type",width:"5%",sortable:!0,isKey:!0},{label:"Product Name",field:"Product Name",width:"5%",sortable:!0,isKey:!0},{label:"SKU",field:"SKU",width:"5%",sortable:!0},{label:"Amazon MIN",field:"Amazon MIN",width:"5%",sortable:!0},{label:"Amazon MID",field:"Amazon MID",width:"5%",sortable:!0},{label:"Amazon MAX",field:"Amazon MAX",width:"5%",sortable:!0},{label:"AmazonCA MIN",field:"AmazonCA MIN",width:"5%",sortable:!0},{label:"AmazonCA MID",field:"AmazonCA MID",width:"5%",sortable:!0},{label:"AmazonCA MAX",field:"AmazonCA MAX",width:"5%",sortable:!0},{label:"AmazonMX MIN",field:"AmazonMX MIN",width:"5%",sortable:!0},{label:"AmazonMX MID",field:"AmazonMX MID",width:"5%",sortable:!0},{label:"AmazonMX MAX",field:"AmazonMX MAX",width:"5%",sortable:!0},{label:"BigCommerce MIN",field:"BigCommerce MIN",width:"5%",sortable:!0},{label:"BigCommerce MID",field:"BigCommerce MID",width:"5%",sortable:!0},{label:"BigCommerce MAX",field:"BigCommerce MAX",width:"5%",sortable:!0},{label:"Ebay MIN",field:"Ebay MIN",width:"5%",sortable:!0},{label:"Ebay MID",field:"Ebay MID",width:"5%",sortable:!0},{label:"Ebay MAX",field:"Ebay MAX",width:"5%",sortable:!0},{label:"Newegg MIN",field:"Newegg MIN",width:"5%",sortable:!0},{label:"Newegg MID",field:"Newegg MID",width:"5%",sortable:!0},{label:"Newegg MAX",field:"Newegg MAX",width:"5%",sortable:!0},{label:"Walmart MIN",field:"Walmart MIN",width:"5%",sortable:!0},{label:"Walmart MID",field:"Walmart MID",width:"5%",sortable:!0},{label:"Walmart MAX",field:"Walmart MAX",width:"5%",sortable:!0},{label:"Min Price",field:"Min Price",width:"5%",sortable:!0},{label:"Max Price",field:"Max Price",width:"5%",sortable:!0},{label:"BC Price",field:"BC Price",width:"5%",sortable:!0},{label:"Total Cost",field:"Total Cost",width:"5%",sortable:!0},{label:"Cost",field:"Cost",width:"5%",sortable:!0},{label:"Retail Price",field:"Retail Price",width:"5%",sortable:!0},{label:"Total Shipping Cost",field:"Total Shipping Cost",width:"5%",sortable:!0},{label:"Quantity",field:"Current Stock Level",width:"5%",sortable:!0},{label:"Category",field:"Category",width:"5%",sortable:!0},{label:"Product Image",field:"Product Image File - 1",width:"5%",sortable:!0,display:function(n){return'<a href="'+n["Product Image File - 1"]+'" target="_blank"><img src="'+n["Product Image File - 1"]+'" style="width:150px"></a>'}}],rows:[],totalRecordCount:I(()=>this.totalCount),sortable:{order:"id",sort:"asc"},messages:{pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"}}),data:M([]),readError:"",readErrorForCategory:"",isLoading:!1,isLoadingForCategory:!1,totalCount:0,searchKey:"",searchKeyForCategory:"",tabName:"create",tabForCategory:"category",hostURL:k,hostURLWithPort:D,socket:null,process_data:null}},components:{highlightjs:x,navScrollTo:X,vueTable:z},created(){this.doSearch(0,10,"id","asc"),this.socket=B(this.hostURLWithPort,{path:"/inventory"})},mounted(){this.socket!=null&&(setInterval(()=>{this.socket.emit("get_process","me")},2e3),this.socket.on("set_process",o=>{this.process_data=o}))},methods:{doSearch:function(o,s,n,g){this.isLoading||(this.table.isLoading=!0,m.getBigcommerceHeaderMappingForTable(o,s,n,g,this.tabName,this.searchKey).then(t=>{t.status&&(this.table.rows=t.data,this.totalCount=t.numberOfInventories[0].NumberOfInventories,this.table.sortable.order=n,this.table.sortable.sort=g,this.table.isLoading=!1)}).catch(t=>{console.log(t),this.readError=t.message}))},submitSearch:function(){this.doSearch(0,10,"id","ASC")},setQtyManagerForSA:function(){if(this.tabName=="create"||this.tabName=="update"){if(this.isLoading)return;this.readError="Updating quantities...",this.isLoading=!0,this.socket!=null&&this.socket.emit("get_process","me"),m.setQtyManagerForSA(this.tabName,this.searchKey).then(o=>{console.log(o),o.status&&(this.doSearch(0,10,"id","asc"),this.doSearchFromBigcommerce(0,10,"id","asc"),this.isLoading=!1)}).catch(o=>{console.log(o),this.readError="Server error!"})}},stopProgress:function(){this.socket!=null&&this.socket.emit("stop_process","me")},setPriceManagerForSA:function(){if(this.tabName=="create"||this.tabName=="update"){if(this.isLoading)return;this.readError="Updating prices...",this.isLoading=!0,this.socket!=null&&this.socket.emit("get_process","me"),m.setPriceManagerForSA(this.tabName,this.searchKey).then(o=>{console.log(o),o.status&&(this.doSearch(0,10,"id","asc"),this.doSearchFromBigcommerce(0,10,"id","asc")),this.isLoading=!1}).catch(o=>{console.log(o),this.readError="Server error!"})}},onDownload:function(){m.GetDownloadBigcommerceInventoryFull().then(o=>{o.status&&alert("done")}).catch(o=>{console.log(o),this.readError=o.message})}}},F={class:"row justify-content-center"},T={class:"col-xl-12"},U=e("ul",{class:"breadcrumb"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"SellerActive")]),e("li",{class:"breadcrumb-item active"},"Quantity & Price Manager")],-1),V={class:"page-header"},K=e("hr",{class:"mb-4"},null,-1),R={class:"row"},Q={class:"col-xl-12 col-sm-12"},W={id:"vue3TableLite",class:"mb-5"},O={key:0},j={key:0},G={style:{color:"red"}},q={key:1},H=e("h5",null,"The End! Please try again.",-1),J=[H],Y={key:1,class:"nav nav-tabs"},Z={class:"nav-item me-1 dropdown"},$={class:"dropdown-menu"},ee={key:2,class:"tab-content pt-3"},te={class:"row"},se={class:"col-md-3 col-sm-0"},oe={class:"col-md-3 col-sm-12"},ae={class:"col-md-6 col-sm-12"},le={class:"row"},ie={class:"col-9"},re=e("div",{class:"col-3"},[e("button",{type:"submit",class:"btn btn-dark w-100 active"}," Search ")],-1),ne={class:"row"},de={class:"col-md-3 col-sm-0"},ce={class:"col-md-3 col-sm-12"},be={class:"col-md-6 col-sm-12"},he={class:"row"},ue={class:"col-9"},me=e("div",{class:"col-3"},[e("button",{type:"submit",class:"btn btn-dark w-100 active"}," Search ")],-1),ge={class:"row"},pe={class:"col-md-3 col-sm-0"},fe=e("div",{class:"col-md-3 col-sm-12"},null,-1),_e={class:"col-md-6 col-sm-12"},ve={class:"row"},we={class:"col-9"},ye=e("div",{class:"col-3"},[e("button",{type:"submit",class:"btn btn-dark w-100 active"}," Search ")],-1);function Me(o,s,n,g,t,i){const w=p("card-body"),y=p("card"),A=p("vue-table");return l(),r("div",F,[e("div",T,[U,e("h1",V,[P(" Update the quantities and prices "),e("button",{type:"button",class:"btn btn-outline-theme",onClick:s[0]||(s[0]=d(a=>i.onDownload(),["prevent"]))}," Download CSV ")]),K,e("div",R,[e("div",Q,[e("div",W,[t.isLoading?(l(),C(y,{key:0},{default:u(()=>[v(w,null,{default:u(()=>[e("h2",null,b(t.readError),1),t.process_data?(l(),r("div",O,[t.process_data.process_value=="start"?(l(),r("div",j,[e("button",{type:"button",class:"btn btn-outline-theme ms-20px mb-10px",onClick:s[1]||(s[1]=d(a=>i.stopProgress(),["prevent"]))}," Stop "),e("h5",null,b(t.process_data.message_value),1),e("p",null,b(t.process_data.current_count)+" of "+b(t.process_data.total_count),1),e("p",G,b(t.process_data.fail_reason),1)])):(l(),r("div",q,J))])):c("",!0)]),_:1})]),_:1})):c("",!0),t.isLoading?c("",!0):(l(),r("ul",Y,[e("li",Z,[e("a",{href:"#",class:h(["nav-link dropdown-toggle",{active:t.tabName=="create"||t.tabName=="update"||t.tabName=="delete"}]),"data-bs-toggle":"dropdown"}," Quantities and Price List ",2),e("div",$,[e("a",{href:"#added_data",class:h(["dropdown-item",{active:t.tabName=="create"}]),"data-bs-toggle":"tab",onClick:s[2]||(s[2]=a=>{a.preventDefault(),t.tabName="create",this.doSearch(0,10,"id","asc")})}," All Data ",2),e("a",{href:"#cost_changed",class:h(["dropdown-item",{active:t.tabName=="update"}]),"data-bs-toggle":"tab",onClick:s[3]||(s[3]=a=>{a.preventDefault(),t.tabName="update",this.doSearch(0,10,"id","asc")})}," Updated Data ",2),e("a",{href:"#delete_data",class:h(["dropdown-item",{active:t.tabName=="delete"}]),"data-bs-toggle":"tab",onClick:s[4]||(s[4]=a=>{a.preventDefault(),t.tabName="delete",this.doSearch(0,10,"id","asc")})}," Deleted Data ",2)])])])),t.isLoading?c("",!0):(l(),r("div",ee,[e("div",{class:h(["tab-pane fade",{show:t.tabName=="create",active:t.tabName=="create"}]),id:"added_data"},[e("div",te,[e("div",se,[e("h3",null,"All Data ( "+b(this.totalCount)+" )",1)]),e("div",oe,[t.totalCount>0?(l(),r("button",{key:0,type:"button",class:"btn btn-outline-theme w-100 mb-10px",onClick:s[5]||(s[5]=d(a=>i.setQtyManagerForSA(),["prevent"]))}," Update Quantity ")):c("",!0),t.totalCount>0?(l(),r("button",{key:1,type:"button",class:"btn btn-outline-theme w-100 mb-10px",onClick:s[6]||(s[6]=d(a=>i.setPriceManagerForSA(),["prevent"]))}," Update Price ")):c("",!0)]),e("div",ae,[e("form",{class:"mb-10px",onSubmit:s[8]||(s[8]=d(a=>i.submitSearch(),["prevent"])),method:"POST"},[e("div",le,[e("div",ie,[f(e("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=a=>t.searchKey=a),class:"form-control",placeholder:"Vender name or VCPN or Description"},null,512),[[_,t.searchKey]])]),re])],32)])])],2),e("div",{class:h(["tab-pane fade",{show:t.tabName=="update",active:t.tabName=="update"}]),id:"cost_changed"},[e("div",ne,[e("div",de,[e("h3",null,"Changed ( "+b(this.totalCount)+" )",1)]),e("div",ce,[t.totalCount>0?(l(),r("button",{key:0,type:"button",class:"btn btn-outline-theme w-100 mb-10px",onClick:s[9]||(s[9]=d(a=>i.setQtyManagerForSA(),["prevent"]))}," Quantity Update ")):c("",!0)]),e("div",be,[e("form",{class:"mb-10px",onSubmit:s[11]||(s[11]=d(a=>i.submitSearch(),["prevent"])),method:"POST"},[e("div",he,[e("div",ue,[f(e("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=a=>t.searchKey=a),class:"form-control",placeholder:"Vender name or VCPN or Description"},null,512),[[_,t.searchKey]])]),me])],32)])])],2),e("div",{class:h(["tab-pane fade",{show:t.tabName=="delete",active:t.tabName=="delete"}]),id:"delete_data"},[e("div",ge,[e("div",pe,[e("h3",null,"Deleted ( "+b(this.totalCount)+" )",1)]),fe,e("div",_e,[e("form",{class:"mb-10px",onSubmit:s[13]||(s[13]=d(a=>i.submitSearch(),["prevent"])),method:"POST"},[e("div",ve,[e("div",we,[f(e("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=a=>t.searchKey=a),class:"form-control",placeholder:"Vender name or VCPN or Description"},null,512),[[_,t.searchKey]])]),ye])],32)])])],2)])),!t.isLoading&&t.table&&t.table.rows.length>0?(l(),C(y,{key:3},{default:u(()=>[v(w,null,{default:u(()=>[v(A,{class:"vue-table",columns:t.table.columns,rows:t.table.rows,total:t.table.totalRecordCount,sortable:t.table.sortable,"is-loading":t.table.isLoading,messages:t.table.messages,onDoSearch:i.doSearch,onIsFinished:s[14]||(s[14]=a=>t.table.isLoading=!1)},null,8,["columns","rows","total","sortable","is-loading","messages","onDoSearch"])]),_:1})]),_:1})):c("",!0)])])])])])}const Ie=N(E,[["render",Me]]);export{Ie as default};
